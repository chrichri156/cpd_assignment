Idea: For an event (the Prom Ball), form to be filled in by the students. Data registered in a database table, with an output column for the total amount of the order (nowing 1 entry = 25€)


| FirstNameStudent | LastNameStudent | Class | Email | Presence | Guest | FirstNameGuest | LastNameGuest | OrderAmount |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| Christelle | Jansen | 6T8 | christelle.jansen@hotmail.fr | 1 | 1 | Juliette | Chardon | 50€ |


#### Form:

Insert your first name:
Insert your last name:
Insert your class:
Insert your email address:

Will you be present at the Prom Ball on the 28th of June 2023?
Will you be accompanied (maximum 1 guest)?
If yes, insert your guest’s first name:
If yes, insert your guest’s last name:

The total amount of the order is:

#### Form Script
 
again3 = "Yes"
while again3 == "Yes":


    again1 = "Yes"
    while again1 == "Yes":
        firstNameStudent = input ("Insert your first name:")
        lastNameStudent = input ("Insert your last name:")
        classStudent = input ("Insert your class:")
        email = input ("Insert your email address:")

        print(f"Hello {firstNameStudent} {lastNameStudent}, from {classStudent}. Your email address is: {email}")


        again1 = input ("Do you want to change those informations (Yes/No) ? ")
    

    again2 = "Yes"
    while again2 == "Yes":
    
        presence = input ("Will you be present at the Prom Ball on the 28th of June 2023? (Yes/No)") 
    
        if presence == "Yes":
    
            guest = input ("Will you be accompanied (maximum 1 guest) (Yes/No) ? ")
        
            if guest == "Yes":
    
                firstNameGuest = input ("If yes, insert your guest’s first name:")
                lastNameGuest = input ("If yes, insert your guest’s last name:")
        
                print(f"It's great that you're coming! Your guest is {firstNameGuest} {lastNameGuest}")
            
            else:
                print("It's great that you're coming! You have no guest for the moment.")
                
            
        else:
            print("Too bad... We'll see you another time, then!")
        
        again2 = input ("Do you want to change those informations (Yes/No) ? ")



    if presence == "Yes" and guest == "Yes":
         print("The total amount of your order is (25€/pp):", 2*25 , "€")
        
    elif presence == "Yes" and guest == "No":
        print("The total amount of your order is (25€/pp):", 1*25, "€")
    
    again3 = input ("Do you want to change those informations (Yes/No) ? ")

print("Thank you for answering this formular.")



#### Admin login Script

username = input("Enter your username: ")
password = input("Enter your password: ")

while username != "chrichri156" or password != "PassWord123":
    print("Either you have made a mistake in your username and/or password, or you do not have access to the admin account.")
    username = input("Enter your username: ")
    password = input("Enter your password: ")

print(f"Welcome {username}. You are well logged in to the admin account.")


#### Terminal commands

CREATE USER 'chrichri156'@'cpd3' IDENTIFIED BY 'PassWord123';
GRANT ALL PRIVILEGES ON *.* TO 'chrichri156'@'cpd3';
CREATE DATABASE Event102;
GRANT ALL PRIVILEGES ON Event102.* TO 'chrichri156'@'cpd3';
FLUSH PRIVILEGES;


connection = mysql.connector.connect(
    host="hostname",
    user="username",
    password="password",
    database="database_name"
)

CREATE TABLE Attendees_List (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    class VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    presence VARCHAR(255) NOT NULL,
    guest_first_name VARCHAR(255),
    guest_last_name VARCHAR(255)
);


sudo cp /etc/letsencrypt/live/cpd3.westeurope.cloudapp.azure.com/cert.pem .
sudo cp /etc/letsencrypt/live/cpd3.westeurope.cloudapp.azure.com/privkey.pem .

sudo chown `whoami` *.pem


az vm extension set --publisher Microsoft.Azure.DevOps --name VMAccessForLinux --version 1.3 --vm-name cpd3 --resource-group cpd3_group --settings '{"gitHubAuthToken": "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", "gitHubRepoName": "cpd_assignment", "gitHubOrganizationName": "chrichri156"}'

az vm extension show --resource-group cpd3_group --vm-name cpd3 --name VMAccessForLinux --query 'instanceView.extensionInstanceView.substatuses[0].message'


#### Problem yet to solve:
Using the pipelines in Azure DevOps platform, link the script form.py (thus all the cpd_assignment repository) to a web page using the DNS name of the virtual machine.
=> Goal = to show the form (to be filled in) on this webpage
+ if possible, show a place to log in into the admin account to manage and see the database generated by the answers of the form
